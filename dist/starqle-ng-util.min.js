angular.module("on.root.scope",[]).config(["$provide",function(e){return e.decorator("$rootScope",["$delegate",function(e){return Object.defineProperty(e.constructor.prototype,"$onRootScope",{value:function(t,n){var r;return r=e.$on(t,n),this.$on("$destroy",r)},enumerable:!1}),e}])}]);var shApiModule;shApiModule=angular.module("sh.api.module",[]);var shDatepickerModule;shDatepickerModule=angular.module("sh.datepicker.module",[]);var shDialogModule;shDialogModule=angular.module("sh.dialog.module",[]);var shFormModule;shFormModule=angular.module("sh.form.module",[]);var shHelperModule;shHelperModule=angular.module("sh.helper.module",[]);var shPersistenceModule;shPersistenceModule=angular.module("sh.persistence.module",[]);var shSpinningModule;shSpinningModule=angular.module("sh.spinning.module",[]);var shTableModule;shTableModule=angular.module("sh.table.module",[]);var shValidationModule;shValidationModule=angular.module("sh.validation.module",[]),shTableModule.directive("shTablePagination",function(){return{restrict:"A",transclude:!0,scope:{shTablePagination:"=",shTablePaginationAction:"&"},template:'<div ng-if="shTablePagination.totalCount > 10" class="pagination form-inline pull-left">\n  <select ng-model=\'perPage\' ng-change="shTablePaginationAction({pageNumber: 1, perPage: perPage})" ng-options="perPage for perPage in getPerPages()" class="form-control text-right"></select>&nbsp;\n  &nbsp;\n  &nbsp;\n</div>\n\n<ul class="pagination pull-left">\n  <li ng-repeat="page in shTablePagination.pages" ng-switch="page.type">\n    <a ng-switch-when="FIRST" ng-disabled="page.disabled" ng-click="shTablePaginationAction({pageNumber: page.number})">«</a>\n    <a ng-switch-when="PREV" ng-disabled="page.disabled" ng-click="shTablePaginationAction({pageNumber: page.number})">&lt;</a>\n    <a ng-switch-when="PAGE" ng-disabled="page.disabled" ng-click="shTablePaginationAction({pageNumber: page.number})">\n      <span ng-bind="page.number"></span>\n    </a>\n    <a ng-switch-when="MORE" ng-disabled="page.disabled">…</a>\n    <a ng-switch-when="NEXT" ng-disabled="page.disabled" ng-click="shTablePaginationAction({pageNumber: page.number})">&gt;</a>\n    <a ng-switch-when="LAST" ng-disabled="page.disabled" ng-click="shTablePaginationAction({pageNumber: page.number})">»</a>\n  </li>\n</ul>\n\n<div class="pagination pull-left">\n  <div class="btn disabled">\n    <span class="page-count">\n      &nbsp;{{shTablePagination.currentPageCount}}&nbsp;\n    </span>\n    <span>\n      <em translate="LABEL_OF"></em>\n    </span>\n    <span class="page-total">\n      &nbsp;{{shTablePagination.totalCount}}&nbsp;\n    </span>\n  </div>\n</div>\n\n<div class="pagination pull-left">\n  <div ng-click="shTablePaginationAction()" class="btn">\n    <i class="fa fa-refresh"></i>\n  </div>\n</div>',controller:["$scope",function(e){e.perPage=10,e.getPerPages=function(){return[10,20,50,100]}}]}}),angular.module("sh.bootstrap",[]).directive("shBootstrapTooltip",[function(){return{restrict:"A",link:function(e,t,n){angular.element(t).on("click",function(){angular.element(t).tooltip("hide")}).on("mouseenter",function(){angular.element(t).tooltip("show")}).on("mouseleave",function(){angular.element(t).tooltip("hide")})}}}]).directive("shBootstrapPopover",["$timeout",function(e){return{restrict:"A",link:function(t,n,r){var a,i,l;l={popoverId:null,timeoutFn:null,addTimeout:function(t){l.timeoutFn=e(function(){return angular.element(t).popover("hide")},100)},cancelTimeout:function(){return e.cancel(l.timeoutFn)}},i=function(){return l.cancelTimeout()},a=function(){return l.addTimeout(n)},angular.element(n).on("mouseenter",function(){l.cancelTimeout(),angular.isUndefined(angular.element(n).attr("aria-describedby"))&&angular.element(n).popover("show")}).on("mouseleave",function(){return l.addTimeout(n)}).on("shown.bs.popover",function(){return l.popoverId=angular.element(n).attr("aria-describedby"),angular.element("#"+l.popoverId).on("mouseenter",i),angular.element("#"+l.popoverId).on("mouseleave",a)}).on("hide.bs.popover",function(){return angular.element("#"+l.popoverId).off("mouseenter",i),angular.element("#"+l.popoverId).off("mouseleave",a)})}}}]),angular.module("sh.collapsible",[]).directive("shCollapsible",function(){return{restrict:"AEC",scope:{shCollapsibleCollapsed:"@?",shCollapsibleCollapseFn:"&",shCollapsibleExpandFn:"&"},controller:["$scope","$element","$timeout",function(e,t,n){var r;r=this,this.shCollapse=!1,this.bodyElements=[],this.triggerResizeTimeout=function(){return n(function(){angular.element(window).triggerHandler("resize")},10)},this.toggleCollapse=function(){var e,n,a,i,l,o,s;if(this.shCollapse=!this.shCollapse,this.isCollapse())for(o=this.bodyElements,n=0,i=o.length;n<i;n++)e=o[n],e.slideUp("fast",r.triggerResizeTimeout),t.addClass("is-collapse");else for(s=this.bodyElements,a=0,l=s.length;a<l;a++)e=s[a],e.slideDown("fast",r.triggerResizeTimeout),t.removeClass("is-collapse")},this.addCollapsibleBodyElement=function(e){this.bodyElements.push(e)},this.isCollapse=function(){return this.shCollapse}}],controllerAs:"shCollapsibleController",link:function(e,t,n,r){e.shCollapsibleExpandFn({expandFn:function(){if(r.isCollapse())return r.toggleCollapse()}}),e.shCollapsibleCollapseFn({collapseFn:function(){if(!r.isCollapse())return r.toggleCollapse()}}),"true"===e.shCollapsibleCollapsed&&r.toggleCollapse()}}}).directive("shCollapsibleBody",function(){return{restrict:"AEC",scope:{},require:"^shCollapsible",link:function(e,t,n,r){r.addCollapsibleBodyElement(t)}}}).directive("shCollapsibleControl",function(){return{restrict:"AEC",scope:{},require:"^shCollapsible",link:function(e,t,n,r){t.bind("click",function(){r.toggleCollapse()})}}}),shDatepickerModule.directive("shDatepicker",[function(){return{restrict:"A",scope:{shDisplayFormat:"@?",shFromDate:"=?",shIcons:"=?",shThruDate:"=?",widgetVerticalPosition:"@?"},require:"?ngModel",link:function(e,t,n,r){var a,i,l,o,s,u,h,c,d,f,m,p,b,g,T,v,y,D;D="YYYY-MM-DD",a=null!=(p=e.shDisplayFormat)?p:"DD-MM-YYYY",d=null,s=function(e){return c(e)?moment(e).format(a):null},r.$formatters.push(s),m=function(e){return h(e)?u(e)?moment(e,a).format(D):null:e},f=function(e){return h(e)?moment(e,a).format(D):null},r.$parsers.push(m),u=function(e){var n,r,a,i,l,o;return!(null!=(null!=(a=t.data("DateTimePicker"))?a.maxDate():void 0)&&(null!=(i=t.data("DateTimePicker"))?i.maxDate():void 0)&&(n=t.data("DateTimePicker").maxDate().format(D),moment(e).isAfter(n)))&&!(null!=(null!=(l=t.data("DateTimePicker"))?l.minDate():void 0)&&(null!=(o=t.data("DateTimePicker"))?o.minDate():void 0)&&(r=t.data("DateTimePicker").minDate().format(D),moment(e).isBefore(r)))},g=function(n,s){var u,h;u=n,c(n)||(u=d),(r.$dirty||s)&&(t.unbind("dp.change",i),t.unbind("dp.show",o),t.unbind("dp.hide",l),null!=(h=t.data("DateTimePicker"))&&h.destroy(),t.datetimepicker({format:a,showClear:!0,showClose:!0,showTodayButton:!1,useCurrent:!1,useStrict:!0,widgetPositioning:{vertical:e.widgetVerticalPosition||"auto"}}),t.data("DateTimePicker").date(moment(u)),s||r.$setViewValue(u),T(e.shIcons),y(e.shFromDate),v(e.shThruDate),t.bind("dp.change",i),t.bind("dp.show",o),t.bind("dp.hide",l))},y=function(e){var n,r,a,i,l;e&&c(e)?(null!=(null!=(r=t.data("DateTimePicker"))?r.maxDate():void 0)&&(null!=(a=t.data("DateTimePicker"))?a.maxDate():void 0)&&(n=f(t.data("DateTimePicker").maxDate()),moment(e).isAfter(n)&&(e=n)),null!=(i=t.data("DateTimePicker"))&&i.minDate(moment(e).startOf("day"))):null!=(l=t.data("DateTimePicker"))&&l.minDate(!1)},v=function(e){var n,r,a,i,l;e&&c(e)?(null!=(null!=(r=t.data("DateTimePicker"))?r.minDate():void 0)&&(null!=(a=t.data("DateTimePicker"))?a.minDate():void 0)&&(n=f(t.data("DateTimePicker").minDate()),moment(e).isBefore(n)&&(e=n)),null!=(i=t.data("DateTimePicker"))&&i.maxDate(moment(e).endOf("day"))):null!=(l=t.data("DateTimePicker"))&&l.maxDate(!1)},T=function(e){null!=e&&t.data("DateTimePicker").icons(e)},i=function(e){e.date?r.$setViewValue(e.date.format(a)):r.$setViewValue(null)},o=function(){b(r.$modelValue)},l=function(e){h(r.$viewValue)?r.$viewValue!==e.date.format(a)&&g(r.$modelValue):null===r.$viewValue?(b(null),g(null)):g(d)},c=function(e){return moment(e,D,!0).isValid()},h=function(e){return moment(e,a,!0).isValid()},b=function(e){return d=e&&c(e)?e:null},e.$watch("shFromDate",function(e,t){y(e)}),e.$watch("shThruDate",function(e,t){v(e)}),e.$watch(function(){return moment.defaultZone.name},function(e,t){null!=e&&e!==t&&g(r.$modelValue)}),e.$watch(function(){return r.$modelValue},function(e,t){null!=e&&c(e)&&h(r.$viewValue)&&(null==t||null!=t&&c(t))&&g(e,!0)}),g(null,!0)}}}]),shDatepickerModule.directive("shDatetimepicker",["dateFilter",function(e){return{restrict:"A",scope:{shDisplayFormat:"@?",shFromTime:"=?",shIcons:"=?",shThruTime:"=?",widgetVerticalPosition:"@?"},require:"?ngModel",link:function(e,t,n,r){var a,i,l,o,s,u,h,c,d,f,m,p,b,g,T,v,y,D,P,k;k="x",a=null!=(g=e.shDisplayFormat)?g:"DD-MM-YYYY, HH:mm (z)",m=null,s=function(e){return e&&f(e)?(isNaN(e)||(e*=1),moment(e).tz(moment.defaultZone.name).format(a)+""):null},r.$formatters.push(s),b=function(e){return h(e)?u(e)?moment.tz(e,a,moment.defaultZone.name).format(k):null:e},p=function(e){return h(e)?moment.tz(e,a,moment.defaultZone.name).format(k):null},r.$parsers.push(b),u=function(e){var n,r,a,i,l,o;return!(null!=(null!=(a=t.data("DateTimePicker"))?a.maxDate():void 0)&&(null!=(i=t.data("DateTimePicker"))?i.maxDate():void 0)&&(n=t.data("DateTimePicker").maxDate().valueOf(),n<e))&&!(null!=(null!=(l=t.data("DateTimePicker"))?l.minDate():void 0)&&(null!=(o=t.data("DateTimePicker"))?o.minDate():void 0)&&(r=t.data("DateTimePicker").minDate().valueOf(),r>e))},v=function(n,s){var u,h;u=n,f(n)||(u=m),(r.$dirty||s)&&(t.unbind("dp.change",i),t.unbind("dp.show",o),t.unbind("dp.hide",l),null!=(h=t.data("DateTimePicker"))&&h.destroy(),t.datetimepicker({format:a,showClear:!0,showClose:!0,showTodayButton:!1,timeZone:moment.defaultZone.name,useCurrent:!1,useStrict:!0,widgetPositioning:{vertical:e.widgetVerticalPosition||"auto"}}),u?(isNaN(u)||(u*=1),t.data("DateTimePicker").date(moment(u).tz(moment.defaultZone.name))):t.data("DateTimePicker").date(null),s||r.$setViewValue(u+""),y(e.shIcons),P(e.shFromTime),D(e.shThruTime),t.bind("dp.change",i),t.bind("dp.show",o),t.bind("dp.hide",l))},P=function(e){var n,r,a,i,l;e&&f(e)?(isNaN(e)||(e*=1),null!=(null!=(r=t.data("DateTimePicker"))?r.maxDate():void 0)&&(null!=(a=t.data("DateTimePicker"))?a.maxDate():void 0)&&(n=t.data("DateTimePicker").maxDate().valueOf(),n<e&&(e=n)),null!=(i=t.data("DateTimePicker"))&&i.minDate(moment(e).tz(moment.defaultZone.name))):null!=(l=t.data("DateTimePicker"))&&l.minDate(!1)},D=function(e){var n,r,a,i,l;e&&f(e)?(isNaN(e)||(e*=1),null!=(null!=(r=t.data("DateTimePicker"))?r.minDate():void 0)&&(null!=(a=t.data("DateTimePicker"))?a.minDate():void 0)&&(n=t.data("DateTimePicker").minDate().valueOf(),n>e&&(e=n)),null!=(i=t.data("DateTimePicker"))&&i.maxDate(moment(e).tz(moment.defaultZone.name))):null!=(l=t.data("DateTimePicker"))&&l.maxDate(!1)},y=function(e){null!=e&&t.data("DateTimePicker").icons(e)},i=function(e){e.date?r.$setViewValue(e.date.tz(moment.defaultZone.name).format(a)):r.$setViewValue(null)},o=function(){T(r.$modelValue)},l=function(e){h(r.$viewValue)?r.$viewValue!==e.date.tz(moment.defaultZone.name).format(a)&&v(r.$modelValue):null===r.$viewValue?(T(null),v(null)):v(m)},f=function(e){return d(e)||c(e)},d=function(e){return!isNaN(e)},c=function(e){return isNaN(e)&&moment(e,moment.ISO_8601).isValid()},h=function(e){return isNaN(e)&&23===e.length&&")"===e[22]&&moment.tz(e.substr(0,19),a.substr(0,19),!0,moment.defaultZone.name).isValid()},T=function(e){return m=e&&f(e)?e:null},e.$watch("shFromTime",function(e,t){P(e)}),e.$watch("shThruTime",function(e,t){D(e)}),e.$watch(function(){return moment.defaultZone.name},function(e,t){null!=e&&e!==t&&v(r.$modelValue)}),e.$watch(function(){return r.$modelValue},function(e,t){null!=e&&f(e)&&h(r.$viewValue)&&(null==t||null!=t&&f(t))&&v(e,!0)}),v(null,!0)}}}]),shDatepickerModule.directive("shDatetime",[function(){return{restrict:"A",scope:{shDatetime:"=",shDatetimeFormat:"@?",shDateFormat:"@?"},template:'<span title="{{getFormattedShDatetime()}}">{{getFormattedShDatetime()}}</span>',link:function(e,t,n){e.getFormattedShDatetime=function(){var t,n,r,a,i;return null!=e.shDatetime?moment(e.shDatetime,"YYYY-MM-DD",!0).isValid()?(r=null!=(t=e.shDateFormat)?t:"DD-MM-YYYY",moment(e.shDatetime).format(r)):(a=null!=(n=e.shDatetimeFormat)?n:"DD MMM YYYY, HH:mm (z)",i=e.shDatetime,isNaN(i)&&moment(i,moment.ISO_8601).isValid()||(i=1*i),moment(i).tz(moment.defaultZone.name).format(a)):"-"}}}}]),shDatepickerModule.directive("shTimepicker",[function(){return{restrict:"A",scope:{shTimepicker:"="},template:'<select name="duration-hour" ng-model="duration.hour" ng-options="n as n for n in ([] | shRange:0:24)" class="form-control">\n  <option value="0">0</option>\n</select>&colon;\n<select name="duration-minute" ng-model="duration.minute" ng-options="n as n for n in ([] | shRange:0:60:5)" class="form-control">\n  <option value="0">0</option>\n</select>',require:"?ngModel",link:function(e,t,n,r){var a;e.duration={hour:Math.floor(e.shTimepicker/3600),minute:e.shTimepicker%3600},a=function(t){return t?(e.duration.hour=Math.floor(t/3600),e.duration.minute=Math.floor(t/60)%60):(e.duration.hour=0,e.duration.minute=5),t},r.$formatters.push(a),e.$watchCollection("duration",function(t,n){null!=t&&r.$setViewValue(60*e.duration.hour*60+60*e.duration.minute)})}}}]),shDialogModule.directive("shDialog",["$compile","$templateCache","$timeout","$q",function(e,t,n,r){return{restrict:"A",replace:!0,scope:{shDialogOk:"&?",shDialogBeforeShow:"&?",shDialogOnHide:"&?",shDialogCancel:"&?",shDialogHeader:"@?",shDialogBody:"@?",shDialogFooter:"@?",shDialogForm:"@?",shDialogClass:"@?",shDialogEntity:"=?",shDialogLoading:"=?",shDialogDisabled:"&?",shDialogLabelOk:"@?",shDialogLabelClose:"@?",shDialogLabelCancel:"@?",shDialogParent:"=?",title:"@?"},link:function(a,i,l){var o,s,u,h,c,d,f;f=null!=(s=a.shDialogLabelOk)?s:"Submit",d=null!=(u=a.shDialogLabelClose)?u:"Close",c=null!=(h=a.shDialogLabelCancel)?h:"Cancel",angular.element(i).addClass("sh-dialog").children().eq(0).on("click",function(){"disabled"!==angular.element(this).find("> *:first-child").attr("disabled")&&o()}),a.showModal=function(e){n(function(){e.modal("show")},20)},a.hideModal=function(){angular.element(".modal").modal("hide")},o=function(){var n,i,o,s,u,h,m,p,b,g;u=a.$id,g=null,g=null!=a.shDialogForm?angular.element('<div id="modal-sh-dialog-'+u+'" tabindex="-1" role="dialog" aria-labelledby="modalShDialogLabel" aria-hidden="true" class="modal"><div class="modal-dialog '+(null!=(m=a.shDialogClass)?m:"modal-sm")+'"><form class="modal-content" novalidate="" name="'+a.shDialogForm+'">      <div class="modal-header">\n        <button type="button" data-dismiss="modal" aria-hidden="true" class="close">&times;</button>\n        <h4 class="modal-title"></h4>\n      </div>\n      <div class="modal-body"></div>\n      <div class="modal-footer"></div>\n    </form>\n  </div>\n</div>'):angular.element('<div id="modal-sh-dialog-'+u+'" tabindex="-1" role="dialog" aria-labelledby="modalShDialogLabel" aria-hidden="true" class="modal"><div class="modal-dialog '+(null!=(p=a.shDialogClass)?p:"modal-sm")+'">    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" data-dismiss="modal" aria-hidden="true" class="close">&times;</button>\n        <h4 class="modal-title"></h4>\n      </div>\n      <div class="modal-body"></div>\n      <div class="modal-footer"></div>\n    </div>\n  </div>\n</div>'),null!=a.shDialogHeader?(s=angular.element(t.get(a.shDialogHeader)),g.find(".modal-title").append(s)):g.find(".modal-title").html(a.title),null!=a.shDialogBody&&(i=angular.element(t.get(a.shDialogBody)),g.find(".modal-body").append(i)),null!=a.shDialogFooter?(o=angular.element(t.get(a.shDialogFooter)),g.find(".modal-footer").append(o)):null!=l.shDialogOk?(n='<button\n  class="btn btn-primary margin-left"\n\n  ng-disabled="aliasShDialogDisabled()"\n\nng-click="aliasShDialogOk($event)"\n\nsh-submit="{{aliasShDialogForm}}'+('  "\n\n  ng-attr-title="'+f+'"\n  type="submit"\n>\n'+f+"\n</button>"),g.find(".modal-footer").append(n),g.find(".modal-footer").append('<button type="button" data-dismiss="modal" class="btn btn-default margin-left">\n  '+c+"\n</button>")):g.find(".modal-footer").append('<button type="button" data-dismiss="modal" class="btn btn-default margin-left">\n  '+d+"\n</button>"),h=null!=(b=a.shDialogParent)?b:a.$parent,e(g)(h),angular.element("body").append(g),null!=a.shDialogEntity&&(h.shDialogEntity=angular.copy(a.shDialogEntity,{})),g.on("show.bs.modal",function(){var e;return h.shDialogLoading=!0,e=r.defer(),r.when((a.shDialogBeforeShow||angular.noop)()).then(function(t){return null!=(null!=t?t.data:void 0)&&(h.shDialogEntity=angular.copy(t.data,{})),e.resolve(t)},function(t){return a.hideModal(),e.reject(t)})["finally"](function(){h.shDialogLoading=!1}),e.promise}).on("hidden.bs.modal",function(){a.shDialogOnHide&&a.shDialogOnHide(),g.remove(),h.shDialogEntity={}}),a.showModal(g),h.aliasShDialogDisabled=function(){var e,t,n;return!!h.shDialogLoading||(null!=l.shDialogDisabled?a.shDialogDisabled():null!=a.shDialogForm&&((null!=(e=h[a.shDialogForm])?e.$pristine:void 0)||(null!=(t=h[a.shDialogForm])?t.$invalid:void 0)||(null!=(n=h[a.shDialogForm])?n.$submitted:void 0)))},h.aliasShDialogOk=function(e){var t;return t=r.defer(),h.shDialogLoading=!0,r.when((a.shDialogOk||angular.noop)({$event:e})).then(function(e){return a.hideModal(),t.resolve()},function(e){var n;return null!=a.shDialogForm&&null!=(n=h[a.shDialogForm])&&(n.$submitted=!1),t.reject()})["finally"](function(){h.shDialogLoading=!1}),t.promise},h.aliasShDialogForm=a.shDialogForm},a.$watch("$parent.shDialogLoading",function(e,t){null!=e&&null!=a.shDialogLoading&&(a.shDialogLoading=e)})}}}]),shDialogModule.directive("shDialogDismissButton",function(){return{restrict:"EA",template:function(e,t){return'<button type="button" data-dismiss="modal" class="btn btn-default margin-left" translate="ACTION_CANCEL">\n</button>'}}}),angular.module("sh.focus",[]).directive("shFocus",["$timeout",function(e){return{scope:{shFocus:"="},link:function(t,n,r){t.$watch("shFocus",function(t){return t===!0?void e(function(){return n.eq(0).select()}):void e(function(){return n.eq(0).blur()})})}}}]),angular.module("sh.number.format",[]).directive("shNumberFormat",["$filter",function(e){return{restrict:"A",scope:{shAllowZero:"@?",shMin:"=?",shMax:"=?",shLowerThan:"@?",shGreaterThan:"@?",shLowerThanEqual:"@?",shGreaterThanEqual:"@?",shNumberInvalidMessage:"@?",shNumberHint:"@?",ngModel:"=",decimalPlaces:"@?"},require:"?ngModel",link:function(t,n,r,a){var i,l,o,s,u;return i="sh-number-"+Math.random().toString().slice(2),s="false"!==t.shAllowZero,l=function(e){return null!=e&&""!==e?1*e:null},o=function(){var e,n,r,a;t.lowerThan=l(t.shLowerThan),t.greaterThan=l(t.shGreaterThan),t.lowerThanEqual=l(t.shLowerThanEqual),t.greaterThanEqual=l(t.shGreaterThanEqual),t.lowerThanEqual=null!=(e=null!=(n=t.lowerThanEqual)?n:t.shMax)?e:Infinity,t.greaterThanEqual=null!=(r=null!=(a=t.greaterThanEqual)?a:t.shMin)?r:-Infinity,t.applyValidity&&t.applyValidity()},o(),u=function(){var e,r,l,o;return e=n.attr("data-content"),a.$invalid?(a.$error.out_of_range&&(e=null!=(r=t.shNumberInvalidMessage)?r:"Invalid Number"),a.$error.required&&(e=null!=(l=t.shNumberInvalidMessage)?l:"Please insert a number")):null==a.$modelValue&&(e=null!=(o=t.shNumberHint)?o:"Insert valid number"),angular.element("."+i).find(".popover-content").html(e),t.applyValidity()},a.$formatters.push(function(t){return e("number")(parseFloat(t))}),a.$parsers.push(function(e){var n;return n=String(e).replace(/\,/g,""),n=parseFloat(n),null!=t.decimalPlaces&&(n=parseFloat(n.toFixed(t.decimalPlaces))),isNaN(n)?null:s||0!==n?null!=t.shMin&&n<parseFloat(t.shMin)?parseFloat(t.shMin):null!=t.shMax&&n>parseFloat(t.shMax)?parseFloat(t.shMax):n:null}),a.$viewChangeListeners.push(function(){return a.$invalid}),t.applyValidity=function(){var e,n;e=!0,null!=t.lowerThanEqual&&(e=e&&+t.ngModel<=t.lowerThanEqual),null!=t.greaterThanEqual&&(e=e&&+t.ngModel>=t.greaterThanEqual),null!=t.lowerThan&&(e=e&&+t.ngModel<t.lowerThan),null!=t.greaterThan&&(e=e&&+t.ngModel>t.greaterThan),s||(e=e&&0!==+t.ngModel),a.$setValidity("out_of_range",e),null!=r.required&&(n=!0,null==t.ngModel&&(n=!1),a.$setValidity("required",n))},n.on("focusout",function(){return a.$viewValue=null!=a.$modelValue?String(e("number")(a.$modelValue)):"",a.$render()}),n.on("focusin",function(){return a.$viewValue=a.$modelValue,a.$render(),n.select()}),n.on("keyup",function(){return u()}),n.on("keydown",function(e){var t,n;if(16===(t=e.keyCode)||17===t||18===t||46===t||8===t||9===t||27===t||13===t||110===t||173===t||190===t||189===t||e.keyCode>=112&&e.keyCode<=123||(65===(n=e.keyCode)||67===n||86===n)&&(e.ctrlKey===!0||e.metaKey===!0)||e.keyCode>=35&&e.keyCode<=40);else if((e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105))return e.preventDefault()}),t.$watch("ngModel",function(e,n){return t.applyValidity()}),t.$watchCollection(function(){return[t.shLowerThan,t.shGreaterThan,t.shLowerThanEqual,t.shGreaterThanEqual]},function(e,t){null!=e&&o()}),n.popover({trigger:"focus",container:"body",placement:"auto top",template:'<div class="popover '+i+'" role="tooltip">  <div class="arrow"></div>  <h3 class="popover-title"></h3>  <div class="popover-content"></div></div>'}),n.on("shown.bs.popover",function(){return u()})}}}]),angular.module("sh.segment",[]).directive("wideTableContainer",function(){var e;return e=function(e,t){t&&t[0]&&(t[0].scrollLeft=e[0].scrollLeft)},{restrict:"C",replace:!1,link:function(t,n,r){var a,i,l;a=n.find(".table-scroll-body"),l=n.find(".table-scroll-head"),i=n.find(".table-scroll-foot"),a.on("scroll",function(){e(a,l),e(a,i)})}}}).directive("shSegmentHead",function(){return{restrict:"C",scope:{},link:function(e,t,n){e.height=0,e.$watch(function(){e.height=t.outerHeight()}),e.$watch("height",function(e,n){t.next().css("top",e+"px")})}}}).directive("shSegmentFoot",function(){return{restrict:"C",scope:{},link:function(e,t,n){e.height=0,e.$watch(function(){e.height=t.outerHeight()}),e.$watch("height",function(e,n){t.prev().css("bottom",e+"px")})}}}).directive("tableScrollBody",["$timeout",function(e){return{restrict:"C",scope:{tableScrollBodyReduction:"@?"},link:function(e,t,n){var r,a,i;r=function(t,n){var r,a,i,l,o,s,u,h,c;return s=angular.element(t).parent(),u=s.parents("tr"),o=s.css("padding-top"),i=s.css("padding-left"),l=s.css("padding-right"),a=s.css("padding-bottom"),r=u.outerHeight(),h=null!=(c=e.tableScrollBodyReduction)?c:"1",h=1*h,angular.element(t).css({top:0,left:n,marginTop:"-"+o,marginLeft:"-"+i,marginRight:"-"+l,marginBottom:"-"+a,paddingTop:o,paddingLeft:i,paddingRight:l,paddingBottom:a,minHeight:r-h})},a=function(e,t,n){var r,a;if(a=angular.element(e).parent(),r=a.css("padding-right"),n>0){if(!a.next().hasClass("td-fixed"))return t>0?angular.element(e).css({boxShadow:"1px 0 0 rgba(0, 0, 0, 0.05), -1px 0 0 rgba(0, 0, 0, 0.1), "+5*n+"px 0px 0px 0px rgba(0, 0, 0, 0.03)",borderColor:"rgba(0, 0, 0, 0.1)"}):angular.element(e).css({boxShadow:"1px 0 0 rgba(0, 0, 0, 0.05), -1px 0 0 rgba(0, 0, 0, 0.05)",borderColor:"rgba(0, 0, 0, 0.05)"})}else if(!a.prev().hasClass("td-fixed"))return t>0?angular.element(e).css({boxShadow:"-1px 0 0 rgba(0, 0, 0, 0.1), "+5*n+"px 0px 0px 0px rgba(0, 0, 0, 0.03)",borderColor:"rgba(0, 0, 0, 0.1)"}):angular.element(e).css({boxShadow:"none",borderColor:"rgba(0, 0, 0, 0.05)"})},i=function(){var e,n,i,l,o,s;return e=t.parent(),l=jQuery(t).scrollTop(),i=jQuery(t).scrollLeft(),s=t[0].clientWidth,o=t.find("table").width(),n=s-o+i,e.find(".td-fixed > .td-fixed-body.td-fixed-body-left").each(function(){return r(this,i),a(this,i,1)}),e.find(".td-fixed > .td-fixed-body.td-fixed-body-right").each(function(){return r(this,n),a(this,-n,-1)}),e.find(".loading-container").css({left:i,right:-i,top:l,bottom:-l})},angular.element(t).on("scroll",function(){i()}),e.$watch(function(){i()})}}}]),shSpinningModule.directive("shSpinning",["ShSpinningService",function(e){return{restrict:"A",scope:!0,link:function(t,n,r){var a,i,l,o,s;if(i=13,a=30,s=10,o=38,null!=r.shSpinningSize)switch(r.shSpinningSize){case"xs":i=9,a=4,s=2,o=5;break;case"sm":i=9,a=10,s=4,o=12;break;case"md":i=11,a=20,s=7,o=25;break;case"lg":i=13,a=30,s=10,o=38}t.shSpinningLines=+r.shSpinningLines||i,t.shSpinningLength=+r.shSpinningLength||a,t.shSpinningWidth=+r.shSpinningWidth||s,t.shSpinningRadius=+r.shSpinningRadius||o,t.shSpinningCorners=+r.shSpinningCorners||1,t.shSpinningRotate=+r.shSpinningRotate||0,t.shSpinningDirection=+r.shSpinningDirection||1,t.shSpinningColor=r.shSpinningColor||"#000",t.shSpinningSpeed=+r.shSpinningSpeed||2.2,t.shSpinningTrail=+r.shSpinningTrail||100,t.shSpinningShadow=r.shSpinningShadow||!1,t.shSpinningHwaccel=r.shSpinningHwaccel||!1,t.shSpinningClassName=r.shSpinningClassName||"spinner",t.shSpinningZIndex=+r.shSpinningZIndex||2e9,t.shSpinningTop=r.shSpinningTop||"45%",t.shSpinningLeft=r.shSpinningLeft||"50%",l={lines:t.shSpinningLines,length:t.shSpinningLength,width:t.shSpinningWidth,radius:t.shSpinningRadius,corners:t.shSpinningCorners,rotate:t.shSpinningRotate,direction:t.shSpinningDirection,color:t.shSpinningColor,speed:t.shSpinningSpeed,trail:t.shSpinningTrail,shadow:t.shSpinningShadow,hwaccel:t.shSpinningHwaccel,className:t.shSpinningClassName,zIndex:t.shSpinningZIndex,top:t.shSpinningTop,left:t.shSpinningLeft},t.spinner=new Spinner(l),t.$watch(function(a,i){var l,o;e.isSpinning(r.shSpinning)?(angular.element(n).addClass("sh-spinning-spin"),null!=(l=t.spinner)&&l.spin(n[0])):(angular.element(n).removeClass("sh-spinning-spin"),null!=(o=t.spinner)&&o.stop())})}}}]),angular.module("sh.submit",[]).directive("shSubmit",["$compile","$filter",function(e,t){return{restrict:"A",scope:!0,link:function(n,r,a){var i,l,o,s;o=angular.element('<segment\n  class="sh-submit-overlay"\n  ng-mouseover="overlayHover()"\n>\n</segment>'),o.css({position:"relative","float":r.css("float")}),s=angular.element('<div\n  class="sh-submit-overlay-inner"\n  ng-mouseover="overlayInnerHover()"\n>\n</div>'),s.css({position:"absolute"}),s.appendTo(o),e(o)(n),l=a.shSubmitInvalid||t("translate")("INFO_FIELD_CORRECTION"),0===r.next(".sh-submit-overlay").length&&0===r.parents(".sh-submit-overlay").length&&(o.insertAfter(r),r.prependTo(o),s.tooltip({title:l})),i=function(e,t){var n,r;for(n=t.split("."),r=null;n.length;)r=(r||e)[n.shift()];return r},n.overlayInnerHover=function(){var e,t;(null!=(t=i(n,a.shSubmit))?t.$invalid:void 0)&&(e=r.parents("form").eq(0),e.length>0?e.addClass("sh-highlight-required"):angular.element("form[name='"+a.shSubmit+"']").addClass("sh-highlight-required"))},n.overlayHover=function(){var e;(null!=(e=i(n,a.shSubmit))?e.$invalid:void 0)&&s.css({left:r.position().left,top:r.position().top,width:r.outerWidth(),height:r.outerHeight(),marginLeft:r.css("margin-left"),marginRight:r.css("margin-right")})},n.$watch(function(){var e;return null!=(e=i(n,a.shSubmit))?e.$invalid:void 0},function(e,t){if(null!=e)return e?s.show():s.hide()})}}}]),shValidationModule.directive("validFile",["$timeout",function(e){return{scope:{validFileName:"="},require:"ngModel",link:function(t,n,r,a){t.$watch("validFileName",function(n){if(null!=n)return e(function(){a.$pristine=!1,a.$setViewValue(t.validFileName),a.$pristine=!0},200),e(function(){a.$pristine=!1,a.$setViewValue(t.validFileName),a.$pristine=!0},2e3)}),n.bind("change",function(){t.$apply(function(){a.$setViewValue(n.val()),a.$render()})})}}}]),shValidationModule.directive("validIdNotNull",function(){return{require:"ngModel",link:function(e,t,n,r){r.$formatters.unshift(function(e){return null==(null!=e?e.id:void 0)?null:e})}}}),angular.module("sh.view.helper",[]).directive("yesNo",function(){return{restrict:"A",scope:{yesNo:"="},template:function(e,t){return'<span ng-if="yesNo == true" class="text-success"><i class="fa fa-left fa-check"></i>{{"LABEL_YES" | translate}}</span><span ng-if="yesNo == false" class="text-danger"><i class="fa fa-left fa-times"></i>{{"LABEL_NO" | translate}}</span><span ng-if="yesNo == null || yesNo == undefined" class="text-muted"><i class="fa fa-left fa-dash"></i></span>'},link:function(e){var t,n;(t=e.yesNo)!==!0&&"true"!==t&&1!==t&&"TRUE"!==t&&"T"!==t&&"t"!==t&&"True"!==t||(e.yesNo=!0),(n=e.yesNo)!==!1&&"false"!==n&&0!==n&&"FALSE"!==n&&"F"!==n&&"f"!==n&&"False"!==n&&n!==-1||(e.yesNo=!1)}}}).directive("codeName",function(){return{restrict:"EA",scope:{codeNameCode:"=?",codeNameName:"=?"},template:function(e,t){return'<span title="{{codeNameCode}} ({{codeNameName}})">{{codeNameCode}} <small class="text-muted">({{codeNameName}})</small></span>'}}}),angular.module("auth.token.handler",[]).factory("AuthTokenHandler",[function(){var e,t,n,r;return t={},r="none",e="none",t.getUsername=function(){return r},t.getAuthToken=function(){return e},t.setUsername=function(e){r=e},t.setAuthToken=function(t){e=t},t.wrapActions=function(e,t){var r,a;for(a=e,r=0;r<t.length;)n(a,t[r]),r++;return a},n=function(e,n){e["_"+n]=e[n],"save"===n||"update"===n?e[n]=function(r,a,i,l){return e["_"+n](angular.extend({},r||{},{username:t.getUsername(),authn_token:t.getAuthToken()}),a,i,l)}:e[n]=function(r,a,i){return e["_"+n](angular.extend({},r||{},{username:t.getUsername(),authn_token:t.getAuthToken()}),a,i)}},t}]),shTableModule.factory("ShTableParams",["$q",function(e){var t;return t=function(t){var n,r,a;return this.$params={pageNumber:null!=(n=t.pageNumber)?n:1,perPage:null!=(r=t.perPage)?r:10,sortInfo:t.sortInfo,sorting:t.sorting,autoload:null==(a=t.autoload)||a},this.$totalCount=0,this.$loading=!1,this.$data=[],this.$extras=null,this.$pagination=[],this.reload=function(){var n,r;return n=e.defer(),r=this,r.$loading=!0,t.getData().then(function(e){return r.$data=e.items,r.$totalCount=e.totalCount,null!=e.extras&&(r.$extras=e.extras),r.$pagination=r.generatePagination(r.$params.pageNumber,r.$params.perPage,r.$totalCount),r.$loading=!1,n.resolve(e)},function(e){return r.$loading=!1,n.reject(e)}),n.promise},this.isSortBy=function(e,t){return angular.isDefined(this.$params.sorting[e])&&this.$params.sorting[e]===t},this.sortData=function(e,t){this.$params.sorting={},this.$params.sorting[e]=t},this.generatePagination=function(e,t,n){var r,a,i,l,o,s,u,h,c,d,f,m;if(c=[],r=e,t=t,n=n,h=Math.ceil(n/t),a=0===h||h===r?n-t*(r-1):t,s=h>5?5:h,i=r-Math.ceil(s/2),i<0?i=0:i+s>h&&(i=h-s),h>1){for(l=i+1,m=i+s,u=o=d=l,f=m;d<=f?o<=f:o>=f;u=d<=f?++o:--o)c.push({type:"PAGE",disabled:u===r,number:u});l>1&&c.unshift({type:"MORE",disabled:!0}),m<h&&c.push({type:"MORE",disabled:!0}),c.unshift({type:"PREV",disabled:1===r,number:r-1}),c.push({type:"NEXT",disabled:r===h,number:r+1}),c.unshift({type:"FIRST",disabled:1===r,number:1}),c.push({type:"LAST",disabled:r===h,number:h})}return{pages:c,currentPage:r,perPage:t,totalCount:n,pageCount:h,currentPageCount:a}},this}}]),shApiModule.factory("ShApiHook",["$q","ShApi",function(e,t){var n;return n=function(n){var r,a,i,l,o;return l=this,l.shApiInstance=n.shApiInstance,null==(r=l.shApiInstance).resource&&(r.resource=null),null==(a=l.shApiInstance).entity&&(a.entity={}),null==(i=l.shApiInstance).optParams&&(i.optParams={}),l.shApiInstance.updatedIds=[],l.shApiInstance.deletedIds=[],l.shApiInstance.beforeApiCallEntityHooks={},l.shApiInstance.apiCallEntitySuccessHooks={},l.shApiInstance.apiCallEntityErrorHooks={},l.shApiInstance.afterApiCallEntityHooks={},o=new t({resource:l.shApiInstance.resource}),l.shApiInstance.apiCallEntity=function(t){var n,r,a,i,s,u,h,c,d,f,m,p,b,g,T,v;if(h=e.defer(),null==t.method||"GET"!==(T=t.method)&&"POST"!==T&&"PUT"!==T&&"DELETE"!==T)console.error("STARQLE_NG_UTIL: Unknown Method"),h.reject({});else if(null==t.name)console.error("STARQLE_NG_UTIL: Options name is required"),h.reject({});else{
switch(n={name:t.name,method:t.method,params:l.shApiInstance.optParams},t.id&&(n.id=t.id),t.method){case"GET":case"DELETE":null!=t.entity&&(console.error("STARQLE_NG_UTIL: Options entity should not be provided"),h.reject({}));break;case"POST":case"PUT":null==t.entity?(console.error("STARQLE_NG_UTIL: Options entity is required"),h.reject({})):(u={data:t.entity},"FormData"===Object.prototype.toString.call(t.entity).slice(8,-1)&&(u=t.entity),n.data=u)}for(null==(r=l.shApiInstance.beforeApiCallEntityHooks)[m=t.name]&&(r[m]=[]),null==(a=l.shApiInstance.apiCallEntitySuccessHooks)[p=t.name]&&(a[p]=[]),null==(i=l.shApiInstance.apiCallEntityErrorHooks)[b=t.name]&&(i[b]=[]),null==(s=l.shApiInstance.afterApiCallEntityHooks)[g=t.name]&&(s[g]=[]),v=l.shApiInstance.beforeApiCallEntityHooks[t.name],d=0,f=v.length;d<f;d++)(c=v[d])();o.apiCall(n).then(function(e){var n,r,a;for(a=l.shApiInstance.apiCallEntitySuccessHooks[t.name],n=0,r=a.length;n<r;n++)(c=a[n])(e);return h.resolve(e)},function(e){var n,r,a;for(a=l.shApiInstance.apiCallEntityErrorHooks[t.name],n=0,r=a.length;n<r;n++)(c=a[n])(e);return h.reject(e)})["finally"](function(){var e,n,r,a;for(r=l.shApiInstance.afterApiCallEntityHooks[t.name],a=[],e=0,n=r.length;e<n;e++)c=r[e],a.push(c());return a})}return h.promise},this}}]),shApiModule.factory("ShApi",["$q",function(e){var t;return t=function(t){var n;return n=this,n.resource=t.resource,n.index=function(t){var r;return r=e.defer(),n.resource.get(t).$promise.then(function(e){return r.resolve(e)},function(e){return r.reject(e)}),r.promise},n["new"]=function(t){var r;return r=e.defer(),n.resource["new"](t).$promise.then(function(e){return r.resolve(e)},function(e){return r.reject(e)}),r.promise},n.create=function(t,r){var a;return a=e.defer(),n.resource.save(t,r).$promise.then(function(e){return a.resolve(e)},function(e){return a.reject(e)}),a.promise},n.edit=function(t,r){var a;return a=e.defer(),n.resource.edit(angular.extend({id:t},r)).$promise.then(function(e){return a.resolve(e)},function(e){return a.reject(e)}),a.promise},n.update=function(t,r,a){var i;return i=e.defer(),n.resource.update(angular.extend({id:t},r),a).$promise.then(function(e){return i.resolve(e)},function(e){return i.reject(e)}),i.promise},n["delete"]=function(t,r){var a;return a=e.defer(),n.resource["delete"](angular.extend({id:t},r)).$promise.then(function(e){return a.resolve(e)},function(e){return a.reject(e)}),a.promise},n.apiCall=function(t){var r;switch(r=e.defer(),t.method){case"GET":case"DELETE":n.resource[t.name](angular.extend({id:t.id},t.params)).$promise.then(function(e){return r.resolve(e)},function(e){return r.reject(e)});break;case"POST":case"PUT":n.resource[t.name](angular.extend({id:t.id},t.params),t.data).$promise.then(function(e){return r.resolve(e)},function(e){return r.reject(e)});break;default:console.error("STARQLE_NG_UTIL: Unknown Method"),r.reject({})}return r.promise},this}}]),shFormModule.factory("ShForm",[function(){var e;return e=function(){var e;return e=this,e.entityForm=null,e.validationClass=function(t){var n,r;return r="",null!=(null!=(n=e.entityForm)?n[t]:void 0)&&(e.entityForm[t].$invalid?r+=e.entityForm[t].$dirty?"has-error ":"has-pristine-error ":e.entityForm[t].$dirty&&e.entityForm[t].$valid&&(r+="has-success ")),r},e.reset=function(){var t,n;return null!=(t=e.entityForm)&&t.$setPristine(),null!=(n=e.entityForm)?n.$setUntouched():void 0},e.resetSubmitted=function(){var t;return null!=(t=e.entityForm)?t.$submitted=!1:void 0},e.isDisabled=function(){var t,n,r;return null==e.entityForm||((null!=(t=e.entityForm)?t.$pristine:void 0)||(null!=(n=e.entityForm)?n.$invalid:void 0)||(null!=(r=e.entityForm)?r.$submitted:void 0))},e.isCompleted=function(){var t,n;return(null!=(t=e.entityForm)?t.$pristine:void 0)&&(null!=(n=e.entityForm)?n.$valid:void 0)&&!e.entityForm.$submitted},e.isDirtyAndValid=function(){var t,n;return(null!=(t=e.entityForm)?t.$dirty:void 0)&&(null!=(n=e.entityForm)?n.$valid:void 0)},e.isDirtyAndInvalid=function(){var t,n;return(null!=(t=e.entityForm)?t.$dirty:void 0)&&(null!=(n=e.entityForm)?n.$invalid:void 0)},e.isResetButtonDisabled=function(){var t,n;return(null!=(t=e.entityForm)?t.$pristine:void 0)||(null!=(n=e.entityForm)?n.$submitted:void 0)},this}}]),shPersistenceModule.factory("ShPersistenceHookNotification",["ShNotification",function(e){var t;return t=function(t){var n;return n=this,n.shPersistence=t.shPersistence,n.shPersistence.newEntityErrorHooks.push(function(t){e.toastByResponse(t)}),n.shPersistence.createEntityErrorHooks.push(function(t){e.toastByResponse(t)}),n.shPersistence.editEntityErrorHooks.push(function(t){e.toastByResponse(t)}),n.shPersistence.updateEntityErrorHooks.push(function(t){e.toastByResponse(t)}),this}}]),shPersistenceModule.factory("ShPersistenceHook",["$q","ShApi","ShApiHook","ShPersistenceHookNotification",function(e,t,n,r){var a;return a=function(a){var i,l,o,s,u,h,c,d,f;return h=this,h.shPersistence=a.shPersistence,null==(i=h.shPersistence).id&&(i.id=null),null==(l=h.shPersistence).resource&&(l.resource=null),null==(o=h.shPersistence).entity&&(o.entity={}),null==(s=h.shPersistence).lookup&&(s.lookup={}),null==(u=h.shPersistence).optParams&&(u.optParams={}),h.shPersistence.beforeNewEntityHooks=[],h.shPersistence.newEntitySuccessHooks=[],h.shPersistence.newEntityErrorHooks=[],h.shPersistence.afterNewEntityHooks=[],h.shPersistence.beforeCreateEntityHooks=[],h.shPersistence.createEntitySuccessHooks=[],h.shPersistence.createEntityErrorHooks=[],h.shPersistence.afterCreateEntityHooks=[],h.shPersistence.beforeEditEntityHooks=[],h.shPersistence.editEntitySuccessHooks=[],h.shPersistence.editEntityErrorHooks=[],h.shPersistence.afterEditEntityHooks=[],h.shPersistence.beforeUpdateEntityHooks=[],h.shPersistence.updateEntitySuccessHooks=[],h.shPersistence.updateEntityErrorHooks=[],h.shPersistence.afterUpdateEntityHooks=[],h.shPersistence.beforeDeleteEntityHooks=[],h.shPersistence.deleteEntitySuccessHooks=[],h.shPersistence.deleteEntityErrorHooks=[],h.shPersistence.afterDeleteEntityHooks=[],h.shPersistence.beforeInitEntityHooks=[],h.shPersistence.initEntitySuccessHooks=[],h.shPersistence.initEntityErrorHooks=[],h.shPersistence.afterInitEntityHooks=[],c=new t({resource:h.shPersistence.resource}),d=new n({shApiInstance:h.shPersistence}),f=new r({shPersistence:h.shPersistence}),h.shPersistence.newEntity=function(){var t,n,r,a,i;for(i=h.shPersistence.beforeNewEntityHooks,r=0,a=i.length;r<a;r++)(n=i[r])();return t=e.defer(),c["new"](h.shPersistence.optParams).then(function(e){var r,a,i;for(h.shPersistence.entity=e.data,null!=e.lookup&&(h.shPersistence.lookup=e.lookup),i=h.shPersistence.newEntitySuccessHooks,r=0,a=i.length;r<a;r++)(n=i[r])(e);return t.resolve(e)},function(e){var r,a,i;for(i=h.shPersistence.newEntityErrorHooks,r=0,a=i.length;r<a;r++)(n=i[r])(e);return t.reject(e)})["finally"](function(){var e,t,r,a;for(r=h.shPersistence.afterNewEntityHooks,a=[],e=0,t=r.length;e<t;e++)n=r[e],a.push(n());return a}),t.promise},h.shPersistence.createEntity=function(t){var n,r,a,i,l,o;for(o=h.shPersistence.beforeCreateEntityHooks,i=0,l=o.length;i<l;i++)(a=o[i])();return r=e.defer(),n={data:t},"FormData"===Object.prototype.toString.call(t).slice(8,-1)&&(n=t),c.create(h.shPersistence.optParams,n).then(function(e){var t,n,i;for(h.shPersistence.entity=e.data,null!=e.lookup&&(h.shPersistence.lookup=e.lookup),i=h.shPersistence.createEntitySuccessHooks,t=0,n=i.length;t<n;t++)(a=i[t])(e);return r.resolve(e)},function(e){var t,n,i;for(i=h.shPersistence.createEntityErrorHooks,t=0,n=i.length;t<n;t++)(a=i[t])(e);return r.reject(e)})["finally"](function(){var e,t,n,r;for(n=h.shPersistence.afterCreateEntityHooks,r=[],e=0,t=n.length;e<t;e++)a=n[e],r.push(a());return r}),r.promise},h.shPersistence.editEntity=function(t){var n,r,a,i,l;for(l=h.shPersistence.beforeEditEntityHooks,a=0,i=l.length;a<i;a++)(r=l[a])();return n=e.defer(),t||(t=h.shPersistence.id),c.edit(t,h.shPersistence.optParams).then(function(e){var t,a,i;for(h.shPersistence.entity=e.data,null!=e.lookup&&(h.shPersistence.lookup=e.lookup),i=h.shPersistence.editEntitySuccessHooks,t=0,a=i.length;t<a;t++)(r=i[t])(e);return n.resolve(e)},function(e){var t,a,i;for(i=h.shPersistence.editEntityErrorHooks,t=0,a=i.length;t<a;t++)(r=i[t])(e);return n.reject(e)})["finally"](function(){var e,t,n,a;for(n=h.shPersistence.afterEditEntityHooks,a=[],e=0,t=n.length;e<t;e++)r=n[e],a.push(r());return a}),n.promise},h.shPersistence.updateEntity=function(t,n){var r,a,i,l,o,s;for(s=h.shPersistence.beforeUpdateEntityHooks,l=0,o=s.length;l<o;l++)(i=s[l])();return a=e.defer(),angular.isObject(t)&&(n=t,t=h.shPersistence.id),r={data:n},"FormData"===Object.prototype.toString.call(n).slice(8,-1)&&(r=n),c.update(t,h.shPersistence.optParams,r).then(function(e){var t,n,r;for(h.shPersistence.entity=e.data,null!=e.lookup&&(h.shPersistence.lookup=e.lookup),r=h.shPersistence.updateEntitySuccessHooks,t=0,n=r.length;t<n;t++)(i=r[t])(e);return a.resolve(e)},function(e){var t,n,r;for(r=h.shPersistence.updateEntityErrorHooks,t=0,n=r.length;t<n;t++)(i=r[t])(e);return a.reject(e)})["finally"](function(){var e,t,n,r;for(n=h.shPersistence.afterUpdateEntityHooks,r=[],e=0,t=n.length;e<t;e++)i=n[e],r.push(i());return r}),a.promise},h.shPersistence.deleteEntity=function(t){var n,r,a,i,l;for(l=h.shPersistence.beforeDeleteEntityHooks,a=0,i=l.length;a<i;a++)(r=l[a])();return n=e.defer(),t||(t=h.shPersistence.id),c["delete"](t,h.shPersistence.optParams).then(function(e){var t,a,i;for(i=h.shPersistence.deleteEntitySuccessHooks,t=0,a=i.length;t<a;t++)(r=i[t])(e);return n.resolve(e)},function(e){var t,a,i;for(i=h.shPersistence.deleteEntityErrorHooks,t=0,a=i.length;t<a;t++)(r=i[t])(e);return n.reject(e)})["finally"](function(){var e,t,n,a;for(n=h.shPersistence.afterDeleteEntityHooks,a=[],e=0,t=n.length;e<t;e++)r=n[e],a.push(r());return a}),n.promise},h.shPersistence.initEntity=function(){var t,n,r,a,i;for(i=h.shPersistence.beforeInitEntityHooks,r=0,a=i.length;r<a;r++)(n=i[r])();return t=e.defer(),e.when(null!=h.shPersistence.id?h.shPersistence.editEntity(h.shPersistence.id):h.shPersistence.newEntity()).then(function(e){var r,a,i;for(i=h.shPersistence.initEntitySuccessHooks,r=0,a=i.length;r<a;r++)(n=i[r])(e);return t.resolve(e)},function(e){var r,a,i;for(i=h.shPersistence.initEntityErrorHooks,r=0,a=i.length;r<a;r++)(n=i[r])(e);return t.reject(e)})["finally"](function(){var e,t,r,a;for(r=h.shPersistence.afterInitEntityHooks,a=[],e=0,t=r.length;e<t;e++)n=r[e],a.push(n());return a}),t.promise},h.shPersistence.getLookup=function(e){var t;return null!=(t=h.shPersistence.lookup)?t[e]:void 0},this}}]),shPersistenceModule.factory("ShPersistence",["$q","ShPersistenceHook",function(e,t){var n;return n=function(e){var n,r,a,i,l,o;return l=this,l.entity={},l.id=null!=(n=e.id)?n:null,l.localLookup={},l.optParams=null!=(r=e.optParams)?r:{},l.resource=null!=(a=e.resource)?a:null,l.sorting=null!=(i=e.sorting)?i:{id:"desc"},o=new t({shPersistence:l}),this}}]),shTableModule.factory("ShTableFilterStorage",["$location","localStorageService",function(e,t){var n;return n=function(n){var r,a,i,l,o,s,u,h;return i=this,i.shTable=n.shTable,h=[i.shTable.name,e.path()].join(""),i.shTable.beforeRefreshGridHooks.push(function(){var e,t,n,h,c,d,f,m,p,b,g,T,v,y,D,P,k;if(t=null!=(v=r())?v:{},n="undefined"===a()?i.shTable.filterParams:a(),k=null!=i.shTable.filterParams.fromShFilter?t:n,P={},D={},null!=k){for(f=Object.keys(k),h=0,p=f.length;h<p;h++)if(d=f[h],m=d.lastIndexOf("_"),g=d.substring(0,m),e=d.substring(m),g)if("_in"===e){for(D[g]=[],y=k[d],c=0,b=y.length;c<b;c++)T=y[c],D[g].push({value:T});P[g]=k[d].join(", ")}else P[g]=k[d];else P[d]=k[d];s(k),u(k),o(P),l(D)}}),r=function(){return i.shTable.filterParams},a=function(){return t.get(h)},s=function(e){i.shTable.filterParams=e},u=function(e){return t.set(h,e)},o=function(e){i.shTable.filterLabel=e},l=function(e){i.shTable.filterCollection=e},this}}]),shTableModule.factory("ShTableFilter",["$filter","HelperService",function(e,t){var n;return n=function(n){var r,a,i,l;return l=this,l.shTable=n.shTable,null==(r=l.shTable).filterParams&&(r.filterParams={}),l.shTable.filterRegion={visible:!0},a={},l.shTable.filterLabel={},l.shTable.filterCollection={},l.shTable.prepareFilterDate=function(e){return a={},delete l.shTable.filterParams[e+"_eqdate"],delete l.shTable.filterParams[e+"_lteqdate"],delete l.shTable.filterParams[e+"_gteqdate"]},l.shTable.executeFilterDate=function(){return jQuery.extend(l.shTable.filterParams,a),l.shTable.tableParams.$params.pageNumber=1,l.shTable.refreshGrid()},l.shTable.filterDateLabel=function(t,n,r){switch(t){case"ANY":return e("translate")("LABEL_ALL");case"TODAY":return e("translate")("LABEL_TODAY");case"PAST_N_DAYS":return e("translate")("LABEL_FROM")+" "+(1===r?e("translate")("LABEL_YESTERDAY"):moment().subtract(r,"days").fromNow());case"PAST_N_WEEKS":return e("translate")("LABEL_FROM")+" "+moment().subtract(r,"weeks").fromNow();case"PAST_N_MONTHS":return e("translate")("LABEL_FROM")+" "+moment().subtract(r,"months").fromNow();case"PAST_N_YEARS":return e("translate")("LABEL_FROM")+" "+moment().subtract(r,"years").fromNow();case"NEXT_N_DAYS":return 1===r?e("translate")("LABEL_THRU")+" "+e("translate")("LABEL_TOMORROW"):moment().add(r,"days").fromNow()+" "+e("translate")("LABEL_AHEAD");case"NEXT_N_WEEKS":return moment().add(r,"weeks").fromNow()+" "+e("translate")("LABEL_AHEAD");case"NEXT_N_MONTHS":return moment().add(r,"months").fromNow()+" "+e("translate")("LABEL_AHEAD");case"NEXT_N_YEARS":return moment().add(r,"years").fromNow()+" "+e("translate")("LABEL_AHEAD")}},l.shTable.filterDate=function(e,t,n){var r,a;if("RANGE"===e||"CERTAIN"===e)switch(e){case"RANGE":r=l.shTable.filterParams[t+"_gteqdate"],a=l.shTable.filterParams[t+"_lteqdate"],l.shTable.prepareFilterDate(t),l.shTable.filterDateRange(t,r,a),l.shTable.filterLabel[t]=moment(r).format("DD-MM-YYYY")+" - "+moment(a).format("DD-MM-YYYY");break;case"CERTAIN":r=l.shTable.filterParams[t+"_gteqdate"],a=r,l.shTable.prepareFilterDate(t),l.shTable.filterDateRange(t,r,a),l.shTable.filterLabel[t]=moment(r).format("DD-MM-YYYY")}else{switch(l.shTable.prepareFilterDate(t),e){case"ANY":l.shTable.filterDateAny(t);break;case"TODAY":l.shTable.filterDateToday(t);break;case"PAST_N_DAYS":l.shTable.filterDatePastNDays(t,n);break;case"PAST_N_WEEKS":l.shTable.filterDatePastNWeeks(t,n);break;case"PAST_N_MONTHS":l.shTable.filterDatePastNMonths(t,n);break;case"PAST_N_YEARS":l.shTable.filterDatePastNYears(t,n);break;case"NEXT_N_DAYS":l.shTable.filterDateNextNDays(t,n);break;case"NEXT_N_WEEKS":l.shTable.filterDateNextNWeeks(t,n);break;case"NEXT_N_MONTHS":l.shTable.filterDateNextNMonths(t,n);break;case"NEXT_N_YEARS":l.shTable.filterDateNextNYears(t,n)}l.shTable.filterLabel[t]=l.shTable.filterDateLabel(e,t,n)}return l.shTable.executeFilterDate()},l.shTable.filterDateAny=function(e){},l.shTable.filterDateToday=function(e){a[e+"_eqdate"]=moment().format("YYYY-MM-DD")},l.shTable.filterDatePastNDays=function(e,t){a[e+"_lteqdate"]=moment().format("YYYY-MM-DD"),a[e+"_gteqdate"]=moment().subtract(t,"days").format("YYYY-MM-DD")},l.shTable.filterDatePastNWeeks=function(e,t){a[e+"_lteqdate"]=moment().format("YYYY-MM-DD"),a[e+"_gteqdate"]=moment().subtract(t,"weeks").format("YYYY-MM-DD")},l.shTable.filterDatePastNMonths=function(e,t){a[e+"_lteqdate"]=moment().format("YYYY-MM-DD"),a[e+"_gteqdate"]=moment().subtract(t,"months").format("YYYY-MM-DD")},l.shTable.filterDatePastNYears=function(e,t){a[e+"_lteqdate"]=moment().format("YYYY-MM-DD"),a[e+"_gteqdate"]=moment().subtract(t,"years").format("YYYY-MM-DD")},l.shTable.filterDateNextNDays=function(e,t){a[e+"_lteqdate"]=moment().add(t,"days").format("YYYY-MM-DD"),a[e+"_gteqdate"]=moment().format("YYYY-MM-DD")},l.shTable.filterDateNextNWeeks=function(e,t){a[e+"_lteqdate"]=moment().add(t,"weeks").format("YYYY-MM-DD"),a[e+"_gteqdate"]=moment().format("YYYY-MM-DD")},l.shTable.filterDateNextNMonths=function(e,t){a[e+"_lteqdate"]=moment().add(t,"months").format("YYYY-MM-DD"),a[e+"_gteqdate"]=moment().format("YYYY-MM-DD")},l.shTable.filterDateNextNYears=function(e,t){a[e+"_lteqdate"]=moment().add(t,"years").format("YYYY-MM-DD"),a[e+"_gteqdate"]=moment().format("YYYY-MM-DD")},l.shTable.filterDateRange=function(e,t,n){a[e+"_gteqdate"]=t,a[e+"_lteqdate"]=n},i={},l.shTable.prepareFilterNumber=function(e){return i={},delete l.shTable.filterParams[e+"_eq"],delete l.shTable.filterParams[e+"_lteq"],delete l.shTable.filterParams[e+"_gteq"]},l.shTable.executeFilterNumber=function(){return jQuery.extend(l.shTable.filterParams,i),l.shTable.tableParams.$params.pageNumber=1,l.shTable.refreshGrid()},l.shTable.filterNumberLabel=function(t,n,r,a){var l;switch(null==r&&(r=i[n+"_gteq"]),null==a&&(a=i[n+"_lteq"]),l=null!=i[n+"_eq"]?i[n+"_eq"]:r,t){case"ANY":return e("translate")("LABEL_ALL");case"BETWEEN":return e("number")(r)+" - "+e("number")(a);case"LOWER_THAN":return"≤ "+e("number")(a);case"GREATER_THAN":return"≥ "+e("number")(r);case"RANGE":return null!=r&&null!=a?r===a?e("number")(r):e("number")(r)+" - "+e("number")(a):null!=r?"≥ "+e("number")(r):null!=a?"≤ "+e("number")(a):e("translate")("LABEL_ALL");case"CERTAIN":return e("number")(l)}},l.shTable.filterNumber=function(e,t,n,r){var a;switch(e){case"ANY":l.shTable.prepareFilterNumber(t),l.shTable.filterNumberAny(t);break;case"BETWEEN":l.shTable.prepareFilterNumber(t),l.shTable.filterNumberRange(t,n,r);break;case"LOWER_THAN":r=l.shTable.filterParams[t+"_lteq"],l.shTable.prepareFilterNumber(t),l.shTable.filterNumberRange(t,null,r);break;case"GREATER_THAN":n=l.shTable.filterParams[t+"_gteq"],l.shTable.prepareFilterNumber(t),l.shTable.filterNumberRange(t,n,null);break;case"RANGE":n=l.shTable.filterParams[t+"_gteq"],r=l.shTable.filterParams[t+"_lteq"],l.shTable.prepareFilterNumber(t),l.shTable.filterNumberRange(t,n,r);break;case"CERTAIN":a=l.shTable.filterParams[t+"_eq"],l.shTable.prepareFilterNumber(t),l.shTable.filterNumberSpecific(t,a)}return l.shTable.filterLabel[t]=l.shTable.filterNumberLabel(e,t),l.shTable.executeFilterNumber()},l.shTable.filterNumberAny=function(e){},l.shTable.filterNumberSpecific=function(e,t){i[e+"_eq"]=t},l.shTable.filterNumberRange=function(e,t,n){null!=t&&(i[e+"_gteq"]=t),null!=n&&(i[e+"_lteq"]=n),null!=t&&null!=n&&t>n&&(i[e+"_gteq"]=n,i[e+"_lteq"]=t)},l.shTable.filterTextCont=function(e){return l.shTable.tableParams.$params.pageNumber=1,l.shTable.filterParams.fromShFilter=!0,l.shTable.refreshGrid()},l.shTable.getLabelTextCont=function(e){return l.shTable.filterParams[e+"_cont"]||null},l.shTable.filterYearBetween=function(e,t){return l.shTable.filterParams[e+"_month"]=null,l.shTable.filterParams[e+"_year"]=t,l.shTable.filterParams[e+"_lteqdate"]=t+"-12-31",l.shTable.filterParams[e+"_gteqdate"]=t+"-01-01",l.shTable.filterParams.fromShFilter=!0,l.shTable.refreshGrid()},l.shTable.filterMonthBetween=function(e,t){var n,r;return l.shTable.filterParams[e+"_year"]&&(r=l.shTable.filterParams[e+"_year"],t=("00"+t).slice(-2),l.shTable.filterParams[e+"_month"]=t,n=moment(r+"-"+t+"-01"),l.shTable.filterParams[e+"_lteqdate"]=n.endOf("month").format("YYYY-MM-DD"),l.shTable.filterParams[e+"_gteqdate"]=n.startOf("month").format("YYYY-MM-DD")),l.shTable.filterParams.fromShFilter=!0,l.shTable.refreshGrid()},l.shTable.filterInCollection=function(t,n){return null==n&&(n=null),null!=n?(l.shTable.filterLabel[t]=l.shTable.filterCollection[t].map(function(t){return e("translate")(t[n+""])}).join(", "),l.shTable.filterParams[t+"_in"]=l.shTable.filterCollection[t].map(function(e){return e[n+""]})):(l.shTable.filterLabel[t]=l.shTable.filterCollection[t].map(function(t){return e("translate")(t)}).join(", "),l.shTable.filterParams[t+"_in"]=l.shTable.filterCollection[t]),l.shTable.filterParams.fromShFilter=!0,l.shTable.refreshGrid()},l.shTable.collectionNavbarFilterSelect=function(e,n,r){return null==r&&(r=null),null==l.shTable.filterCollection[e]&&(l.shTable.filterCollection[e]=[]),t.rowSelect(n,l.shTable.filterCollection[e],r),l.shTable.filterInCollection(e,r)},l.shTable.collectionNavbarFilterDeselect=function(e,n,r){return null==r&&(r=null),null==l.shTable.filterCollection[e]&&(l.shTable.filterCollection[e]=[]),t.rowDeselect(n,l.shTable.filterCollection[e],r),l.shTable.filterInCollection(e,r)},l.shTable.collectionNavbarFilterIsSelected=function(e,n,r){return null==r&&(r=null),null==l.shTable.filterCollection[e]&&(l.shTable.filterCollection[e]=[]),t.isRowSelected(n,l.shTable.filterCollection[e],r)},l.shTable.collectionNavbarClearSelection=function(e,n){return null==n&&(n=null),null==l.shTable.filterCollection[e]&&(l.shTable.filterCollection[e]=[]),t.clearRowSelection(l.shTable.filterCollection[e]),l.shTable.filterInCollection(e,n)},l.shTable.collectionNavbarFilterIsSelectionEmpty=function(e,n){return null==n&&(n=null),null==l.shTable.filterCollection[e]&&(l.shTable.filterCollection[e]=[]),t.isRowSelectionEmpty(l.shTable.filterCollection[e])},l.shTable.filterRadio={},l.shTable.filterInRadio=function(e,t){var n,r;return null==t&&(t=null),null!=t?(l.shTable.filterLabel[e]=null!=(n=l.shTable.filterRadio[e])?n[t+""]:void 0,l.shTable.filterParams[e+"_eq"]=null!=(r=l.shTable.filterRadio[e])?r[t+""]:void 0):(l.shTable.filterLabel[e]=l.shTable.filterRadio[e],l.shTable.filterParams[e+"_eq"]=l.shTable.filterRadio[e]),l.shTable.tableParams.$params.pageNumber=1,l.shTable.filterParams.fromShFilter=!0,l.shTable.refreshGrid()},l.shTable.radioNavbarFilterSelect=function(e,t,n){return null==n&&(n=null),l.shTable.filterRadio[e]=t,l.shTable.filterInRadio(e,n)},l.shTable.radioNavbarFilterDeselect=function(e,t,n){return null==n&&(n=null),l.shTable.filterRadio[e]=null,l.shTable.filterInRadio(e,n)},l.shTable.radioNavbarFilterIsSelected=function(e,t,n){var r;return null==n&&(n=null),null!=n?(null!=(r=l.shTable.filterRadio[e])?r[n+""]:void 0)===t[n+""]:l.shTable.filterRadio[e]===t},l.shTable.radioNavbarClearSelection=function(e,t){return null==t&&(t=null),l.shTable.filterRadio[e]=null,l.shTable.filterInRadio(e,t)},l.shTable.radioNavbarFilterIsSelectionEmpty=function(e,t){return null==t&&(t=null),null===l.shTable.filterRadio[e]},l.shTable.toggleFilterRegion=function(){l.shTable.filterRegion.visible=!l.shTable.filterRegion.visible},l.shTable.resetFilter=function(){var e,n,r;l.shTable.filterParams={},l.shTable.filterLabel={},l.shTable.filterRadio={},n=l.shTable.filterCollection;for(e in n)r=n[e],t.clearRowSelection(l.shTable.filterCollection[e]);return l.shTable.filterParams.fromShFilter=!0,l.shTable.refreshGrid()},l.shTable.isNoFilter=function(){return jQuery.isEmptyObject(l.shTable.filterParams)},this}}]),shTableModule.factory("ShTableHelper",["$q",function(e){var t;return t=function(e){var t;return t=this,t.shTable=e.shTable,t.shTable.sortableClass=function(e){return t.shTable.tableParams.isSortBy(e,"asc")?"sortable sort-asc":t.shTable.tableParams.isSortBy(e,"desc")?"sortable sort-desc":"sortable"},t.shTable.sortableClick=function(e){var n;n=t.shTable.tableParams.isSortBy(e,"asc")?"desc":"asc",t.shTable.tableParams.sortData(e,n),t.shTable.refreshGrid()},t.shTable.rowRestEventClass=function(e){return t.shTable.isRecentlyDeleted(e)?"recently-deleted":t.shTable.isRecentlyUpdated(e)?"recently-updated":t.shTable.isRecentlyCreated(e)?"recently-created":""},t.shTable.isRecentlyCreated=function(e){return t.shTable.createdIds.indexOf((null!=e?e.id:void 0)||e)>=0},t.shTable.isRecentlyUpdated=function(e){return t.shTable.updatedIds.indexOf((null!=e?e.id:void 0)||e)>=0},t.shTable.isRecentlyDeleted=function(e){return t.shTable.deletedIds.indexOf((null!=e?e.id:void 0)||e)>=0},this}}]),shTableModule.factory("ShTableHookNotification",["ShNotification",function(e){var t;return t=function(t){var n;return n=this,n.shTable=t.shTable,n.shTable.getEntitiesErrorHooks.push(function(t){e.toastByResponse(t)}),n.shTable.newEntityErrorHooks.push(function(t){e.toastByResponse(t)}),n.shTable.createEntityErrorHooks.push(function(t){e.toastByResponse(t)}),n.shTable.editEntityErrorHooks.push(function(t){e.toastByResponse(t)}),n.shTable.updateEntityErrorHooks.push(function(t){e.toastByResponse(t)}),n.shTable.deleteEntityErrorHooks.push(function(t){e.toastByResponse(t)}),this}}]),shTableModule.factory("ShTableHook",["$q","localStorageService","ShApi","ShApiHook","ShTableHookNotification",function(e,t,n,r,a){var i;return i=function(t){var i,l,o,s,u,h,c,d;return u=this,u.shTable=t.shTable,null==(i=u.shTable).resource&&(i.resource=null),null==(l=u.shTable).entity&&(l.entity={}),null==(o=u.shTable).lookup&&(o.lookup={}),null==(s=u.shTable).optParams&&(s.optParams={}),u.shTable.createdIds=[],u.shTable.updatedIds=[],u.shTable.deletedIds=[],u.shTable.beforeGetEntitiesHooks=[],u.shTable.getEntitiesSuccessHooks=[],u.shTable.getEntitiesErrorHooks=[],u.shTable.afterGetEntitiesHooks=[],u.shTable.beforeNewEntityHooks=[],u.shTable.newEntitySuccessHooks=[],u.shTable.newEntityErrorHooks=[],u.shTable.afterNewEntityHooks=[],u.shTable.beforeCreateEntityHooks=[],u.shTable.createEntitySuccessHooks=[],u.shTable.createEntityErrorHooks=[],u.shTable.afterCreateEntityHooks=[],u.shTable.beforeEditEntityHooks=[],u.shTable.editEntitySuccessHooks=[],u.shTable.editEntityErrorHooks=[],u.shTable.afterEditEntityHooks=[],u.shTable.beforeUpdateEntityHooks=[],u.shTable.updateEntitySuccessHooks=[],u.shTable.updateEntityErrorHooks=[],u.shTable.afterUpdateEntityHooks=[],u.shTable.beforeDeleteEntityHooks=[],u.shTable.deleteEntitySuccessHooks=[],u.shTable.deleteEntityErrorHooks=[],u.shTable.afterDeleteEntityHooks=[],h=new n({resource:u.shTable.resource}),c=new r({shApiInstance:u.shTable}),d=new a({shTable:u.shTable}),u.shTable.getEntities=function(){var t,n,r,a,i;for(i=u.shTable.beforeGetEntitiesHooks,r=0,a=i.length;r<a;r++)(n=i[r])();return t=e.defer(),h.index(u.shTable.optParams).then(function(e){var r,a,i;for(i=u.shTable.getEntitiesSuccessHooks,r=0,a=i.length;r<a;r++)(n=i[r])(e);return t.resolve(e)},function(e){var r,a,i;for(i=u.shTable.getEntitiesErrorHooks,r=0,a=i.length;r<a;r++)(n=i[r])(e);return t.reject(e)})["finally"](function(){var e,t,r,a;for(r=u.shTable.afterGetEntitiesHooks,a=[],e=0,t=r.length;e<t;e++)n=r[e],a.push(n());return a}),t.promise},u.shTable.newEntity=function(){var t,n,r,a,i;for(i=u.shTable.beforeNewEntityHooks,r=0,a=i.length;r<a;r++)(n=i[r])();return t=e.defer(),h["new"](u.shTable.optParams).then(function(e){var r,a,i;for(u.shTable.entity=e.data,null!=e.lookup&&(u.shTable.lookup=e.lookup),i=u.shTable.newEntitySuccessHooks,r=0,a=i.length;r<a;r++)(n=i[r])(e);return t.resolve(e)},function(e){var r,a,i;for(i=u.shTable.newEntityErrorHooks,r=0,a=i.length;r<a;r++)(n=i[r])(e);return t.reject(e)})["finally"](function(){var e,t,r,a;for(r=u.shTable.afterNewEntityHooks,a=[],e=0,t=r.length;e<t;e++)n=r[e],a.push(n());return a}),t.promise},u.shTable.createEntity=function(t){var n,r,a,i,l,o;for(o=u.shTable.beforeCreateEntityHooks,i=0,l=o.length;i<l;i++)(a=o[i])();return r=e.defer(),n={data:t},"FormData"===Object.prototype.toString.call(t).slice(8,-1)&&(n=t),h.create(u.shTable.optParams,n).then(function(e){var t,n,i;for(u.shTable.createdIds.push(e.data.id),u.shTable.entity=e.data,null!=e.lookup&&(u.shTable.lookup=e.lookup),u.shTable.refreshGrid(),i=u.shTable.createEntitySuccessHooks,t=0,n=i.length;t<n;t++)(a=i[t])(e);return r.resolve(e)},function(e){var t,n,i;for(i=u.shTable.createEntityErrorHooks,t=0,n=i.length;t<n;t++)(a=i[t])(e);return r.reject(e)})["finally"](function(){var e,t,n,r;for(n=u.shTable.afterCreateEntityHooks,r=[],e=0,t=n.length;e<t;e++)a=n[e],r.push(a());return r}),r.promise},u.shTable.editEntity=function(t){var n,r,a,i,l;for(l=u.shTable.beforeEditEntityHooks,a=0,i=l.length;a<i;a++)(r=l[a])();return n=e.defer(),h.edit(t,u.shTable.optParams).then(function(e){var t,a,i;for(u.shTable.entity=e.data,null!=e.lookup&&(u.shTable.lookup=e.lookup),i=u.shTable.editEntitySuccessHooks,t=0,a=i.length;t<a;t++)(r=i[t])(e);return n.resolve(e)},function(e){var t,a,i;for(i=u.shTable.editEntityErrorHooks,t=0,a=i.length;t<a;t++)(r=i[t])(e);return n.reject(e)})["finally"](function(){var e,t,n,a;for(n=u.shTable.afterEditEntityHooks,a=[],e=0,t=n.length;e<t;e++)r=n[e],a.push(r());return a}),n.promise},u.shTable.updateEntity=function(t,n){var r,a,i,l,o,s;for(s=u.shTable.beforeUpdateEntityHooks,l=0,o=s.length;l<o;l++)(i=s[l])();return a=e.defer(),r={data:n},"FormData"===Object.prototype.toString.call(n).slice(8,-1)&&(r=n),h.update(t,u.shTable.optParams,r).then(function(e){var t,n,r;for(u.shTable.updatedIds.push(e.data.id),u.shTable.entity=e.data,null!=e.lookup&&(u.shTable.lookup=e.lookup),u.shTable.refreshGrid(),r=u.shTable.updateEntitySuccessHooks,t=0,n=r.length;t<n;t++)(i=r[t])(e);return a.resolve(e)},function(e){var t,n,r;for(r=u.shTable.updateEntityErrorHooks,t=0,n=r.length;t<n;t++)(i=r[t])(e);return a.reject(e)})["finally"](function(){var e,t,n,r;for(n=u.shTable.afterUpdateEntityHooks,r=[],e=0,t=n.length;e<t;e++)i=n[e],r.push(i());return r}),a.promise},u.shTable.deleteEntity=function(t){var n,r,a,i,l;for(l=u.shTable.beforeDeleteEntityHooks,a=0,i=l.length;a<i;a++)(r=l[a])();return n=e.defer(),h["delete"](t,u.shTable.optParams).then(function(e){var a,i,l;for(u.shTable.deletedIds.push(t),u.shTable.refreshGrid(),l=u.shTable.deleteEntitySuccessHooks,a=0,i=l.length;a<i;a++)(r=l[a])(e);return n.resolve(e)},function(e){var t,a,i;for(i=u.shTable.deleteEntityErrorHooks,t=0,a=i.length;t<a;t++)(r=i[t])(e);return n.reject(e)})["finally"](function(){var e,t,n,a;for(n=u.shTable.afterDeleteEntityHooks,a=[],e=0,t=n.length;e<t;e++)r=n[e],a.push(r());return a}),n.promise},u.shTable.getLookup=function(e){var t;return null!=(t=u.shTable.lookup)?t[e]:void 0},this}}]),shTableModule.factory("ShTableParamsHook",["$q",function(e){var t;return t=function(t){var n;return n=this,n.shTable=t.shTable,n.shTable.beforeRefreshGridHooks=[],n.shTable.refreshGridSuccessHooks=[],n.shTable.refreshGridErrorHooks=[],n.shTable.afterRefreshGridHooks=[],n.shTable.goToPage=function(e,t){null!=e&&(n.shTable.tableParams.$params.perPage=t||n.shTable.tableParams.$params.perPage,n.shTable.tableParams.$params.pageNumber=e),n.shTable.refreshGrid()},n.shTable.refreshGrid=function(){var t,r,a,i,l;for(l=n.shTable.beforeRefreshGridHooks,a=0,i=l.length;a<i;a++)(r=l[a])();return t=e.defer(),n.shTable.tableParams.reload().then(function(e){var a,i,l;for(l=n.shTable.refreshGridSuccessHooks,a=0,i=l.length;a<i;a++)(r=l[a])(e);return t.resolve(e)},function(e){var a,i,l;for(l=n.shTable.refreshGridErrorHooks,a=0,i=l.length;a<i;a++)(r=l[a])(e);return t.reject(e)})["finally"](function(){var e,t,a,i;for(a=n.shTable.afterRefreshGridHooks,i=[],e=0,t=a.length;e<t;e++)r=a[e],i.push(r());return i}),t.promise},n.shTable.getPagedDataAsync=function(){var t;return t=e.defer(),n.shTable.getEntities().then(function(e){return t.resolve({items:e.data.items,totalCount:e.data.total_server_items})}),t.promise},this}}]),shTableModule.factory("ShTableProcessor",[function(){var e;return e=function(){var e;return e=this,e.generateGridParams=function(t){var n,r,a,i,l;i=t.params,r=[],n=[];for(l in i.sorting)r.push(l),n.push(i.sorting[l]);return a={page:i.pageNumber,per_page:i.perPage,sort_info:JSON.stringify({fields:r,directions:n}),filter_params:{},column_defs:JSON.stringify(e.getProcessedColumnDefs(t.columnDefs))},t.filterParams&&angular.extend(a.filter_params,t.filterParams),a},e.getProcessedColumnDefs=function(e){var t,n,r,a;for(a=[],n=0,r=e.length;n<r;n++)t=e[n],""!==t.field&&a.push({field:t.field});return a},this}}]),shTableModule.factory("ShTable",["$q","ShTableFilter","ShTableHelper","ShTableHook","ShTableParamsHook","ShTableProcessor","ShTableFilterStorage","ShTableParams",function(e,t,n,r,a,i,l,o){var s;return s=function(e){var s,u,h,c,d,f,m,p,b,g,T,v,y,D;return p=this,p.entity={},p.columnDefs=null!=(s=e.columnDefs)?s:[],p.filterParams=null!=(u=e.filterParams)?u:{},p.localLookup={},p.name=null!=(h=e.name)?h:"",p.optParams=null!=(c=e.optParams)?c:{},p.perPage=null!=(d=e.perPage)?d:10,p.resource=null!=(f=e.resource)?f:null,p.sorting=null!=(m=e.sorting)?m:{},b=new t({shTable:p}),T=new n({shTable:p}),v=new r({shTable:p}),y=new a({
shTable:p}),D=new i,g=new l({shTable:p}),p.tableParams=new o({pageNumber:1,perPage:p.perPage,sortInfo:"this is sort info",sorting:p.sorting,getData:function(){var e;return e=D.generateGridParams({params:p.tableParams.$params,columnDefs:p.columnDefs,filterParams:p.filterParams}),angular.extend(p.optParams,e),p.getPagedDataAsync()}}),this}}]),angular.module("sh.filter.collection",[]).filter("shFilterCollection",function(){return function(e,t,n){if(e&&n)return e.filter(function(e){return t(e,n)})}}).filter("searchAnyIn",["$filter",function(e){return function(e,t,n){return n?e.filter(function(e){var r,a,i,l;for(l=!1,a=0,i=t.length;a<i;a++)r=t[a],l||(l=l||e[r].toLowerCase().indexOf(n.toLowerCase())>=0);return l}):e}}]),angular.module("sh.floating.precision",[]).filter("shFloatingPrecision",function(){return function(e,t){return null==t&&(t=12),parseFloat(e.toPrecision(t))}}),angular.module("sh.range",[]).filter("shRange",function(){return function(e,t,n,r){var a;for(r=r?parseInt(r):1,t=parseInt(t),n=parseInt(n),a=t;a<n;)e.push(a),a+=r;return e}}),angular.module("sh.remove.duplicates",[]).filter("shRemoveDuplicates",[function(){return function(e,t,n){var r,a,i,l,o,s,u,h,c;if(e){for(s=[],u={},r={},a=0,o=e.length;a<o;a++)i=e[a],u[i[t]]=angular.extend({},i),h=u[i[t]],"function"==typeof n&&n(h,h[t],r);for(l in u)c=u[l],c[t]=l,s.push(c);return s}}}]),angular.module("sh.strip.html",[]).filter("shStripHtml",function(){return function(e){return e?e.replace(/<[^>]+>/gm,""):""}}),angular.module("sh.strip.to.newline",[]).filter("shStripToNewline",function(){return function(e){return e?e.replace(/\s-\s/g,"<br/>"):""}}),angular.module("sh.truncate",[]).filter("shTruncate",[function(){return function(e,t,n,r){var a;return e?(n=parseInt(n,10))?e.length<=n?e:(e=e.substr(0,n),t&&(a=e.lastIndexOf(" "),a!==-1&&(e=e.substr(0,a))),e+(r||" ...")):e:""}}]),angular.module("sh.notification",[]).service("ShNotification",["$timeout","$interval",function(e,t){var n,r,a;r=3e3,a=8e3,n=500,this.toasts=[],this.notifications=[],this.addToast=function(e,t,i){var l,o;l={index:0,lifetime:r,duration:n,beforeAdd:function(){},afterAdd:function(){},beforeRemove:function(){},afterRemove:function(){}},null!=e.type&&null!=e.message?(l.toast=e,null!=t&&(l.lifetime=t),null!=i&&(l.duration=i),l.toast.deathtime=Date.now()+l.lifetime,"error"!==(o=e.type)&&"danger"!==o||(l.toast.deathtime=Date.now()+a),l.toast.alive=!0):angular.extend(l,e),l.beforeAdd.call(this),this.toasts.unshift(l.toast),l.afterAdd.call(this)},this.removeOldestToast=function(){this.removeToast(this.toasts.length-1)},this.removeToast=function(t,a,i){var l,o;l={index:0,lifetime:r,duration:n,beforeRemove:function(){},afterRemove:function(){}},"number"==typeof(1*t)&&isFinite(1*t)?(l.index=1*t,null!=a&&(l.lifetime=a),null!=i&&(l.duration=i)):angular.extend(l,t),o=this.toasts,l.beforeRemove.call(this),angular.element("#toast-group-item-"+l.index).animate({height:0,opacity:0},l.duration),e(function(){return o.splice(l.index,1),l.afterRemove.call(this)},l.duration+1)},this.runInterval=function(e){t(function(){var t,n,r,a,i,l;for(a=e.toasts,i=[],t=n=0,r=a.length;n<r;t=++n)l=a[t],(null!=l?l.alive:void 0)&&(null!=l?l.deathtime:void 0)<Date.now()?(l.alive=!1,i.push(e.removeToast(t,1))):i.push(void 0);return i},500,0,!1)},this.addNotification=function(e){var t;t={index:0,beforeAdd:function(){},afterAdd:function(){},beforeRemove:function(){},afterRemove:function(){}},null!=e.type&&null!=e.message?t.notification=e:angular.extend(t,e),t.beforeAdd.call(this),this.notifications.unshift(t.notification),t.afterAdd.call(this)},this.removeNotification=function(t,r){var a,i;i={index:0,duration:n,beforeRemove:function(){},afterRemove:function(){}},"number"==typeof(1*t)&&isFinite(1*t)?(i.index=1*t,null!=r&&(i.duration=r)):angular.extend(i,t),a=this.notifications,i.beforeRemove.call(this),angular.element("#notification-group-item-"+i.index).animate({height:0,opacity:0},i.duration),e(function(){return a.splice(i.index,1),i.afterRemove.call(this)},i.duration)},this.toastByResponse=function(e,t){var n,r,a,i,l,o,s,u,h;if(e.notification)for(u=e.notification.notifications,n=function(t){return function(n){return t.addToast({type:n.type,data:e,message:n.message,field:n.field})}}(this),a=0,l=u.length;a<l;a++)s=u[a],n(s);else if(e.data&&e.data.error)for(h=e.data.error.errors,r=function(t){return function(n){return t.addToast({type:"danger",data:e,message:n.message,field:n.field})}}(this),i=0,o=h.length;i<o;i++)s=h[i],r(s);else t?this.addToast({type:t.type,data:e,message:t.message,field:t.field}):this.addToast({type:"danger",data:e,message:e.data})},this.runInterval(this)}]),angular.module("sh.page.service",[]).service("ShPageService",["$window",function(e){var t,n;n="",t="",this.setPageTitle=function(t){n=t,e.document.title=this.getAppName()+" - "+this.getPageTitle(),this.getPageTitle()},this.getPageTitle=function(){return n},this.setAppName=function(n){t=n,e.document.title=this.getAppName()+" - "+this.getPageTitle(),this.getAppName()},this.getAppName=function(){return t}}]),shSpinningModule.service("ShSpinningService",function(){var e;e={},this.spin=function(t,n){null==n&&(n=!0),n?e[t]=!0:this.stop(t)},this.stop=function(t){delete e[t]},this.isSpinning=function(t){return e[t]===!0}}),shHelperModule.service("HelperService",[function(){this.rowSelect=function(e,t,n){var r;r=null!=n?t.map(function(e){return e[n+""]}).indexOf(e[n+""]):t.indexOf(e),r<0&&t.push(e)},this.rowDeselect=function(e,t,n){var r;r=null!=n?t.map(function(e){return e[n+""]}).indexOf(e[n+""]):t.indexOf(e),r>=0&&t.splice(r,1)},this.clearRowSelection=function(e){e.splice(0)},this.rowToggle=function(e,t,n){this.isRowSelected(e,t,n)?this.rowDeselect(e,t,n):this.rowSelect(e,t,n)},this.isRowSelected=function(e,t,n){return null!=n?t.map(function(e){return e[n+""]}).indexOf(e[n+""])>=0:t.indexOf(e)>=0},this.getRowSelection=function(e,t){return null!=t?e.map(function(e){return e[t+""]}):e},this.totalRowSelection=function(e){return e.length},this.isRowSelectionEmpty=function(e){return 0===this.totalRowSelection(e)},this.selectAttributes=function(e){var t,n,r,a,i;if(null!=e){for(t=Array.prototype.slice.call(arguments,1),i={},n=0,a=t.length;n<a;n++)r=t[n],i[r]=e[r];return i}return e},this.findById=function(e,t){return e.filter(function(e){return+e.id===+t})},this.findFirstById=function(e,t){var n;return null!=(n=e.filter(function(e){return+e.id===+t})[0])?n:{}},this.findByField=function(e,t){return e.filter(function(e){return e.field===t})},this.findByElmt=function(e,t){return e.filter(function(e){return+e===+t})}}]),angular.module("starqle.ng.util",["on.root.scope","sh.bootstrap","sh.collapsible","sh.focus","sh.number.format","sh.segment","sh.submit","sh.view.helper","auth.token.handler","sh.filter.collection","sh.floating.precision","sh.range","sh.remove.duplicates","sh.strip.html","sh.strip.to.newline","sh.truncate","sh.api.module","sh.datepicker.module","sh.dialog.module","sh.form.module","sh.helper.module","sh.persistence.module","sh.spinning.module","sh.table.module","sh.validation.module","sh.notification","sh.page.service"]);